{{#if msg}}
<div style="background-color:#d4edda;color:#155724;padding:10px;border-radius:6px;margin-bottom:15px;">
âœ… {{msg}}
</div>
{{/if}}

<h1>Panel de AdministraciÃ³n</h1>
<p>Hola {{user.first_name}} ({{user.role}})</p>

<h2>Crear producto</h2>
<form action="/api/products" method="POST" style="display:grid;gap:8px;max-width:600px;">
<input type="text" name="title" placeholder="TÃ­tulo" required>
<input type="text" name="description" placeholder="DescripciÃ³n" required>
<input type="text" name="code" placeholder="CÃ³digo Ãºnico" required>
<input type="number" name="price" placeholder="Precio" required>
<input type="number" name="stock" placeholder="Stock" required>
<input type="text" name="category" placeholder="CategorÃ­a" required>
<input type="text" name="image" placeholder="Imagen principal (URL)">
<input type="text" name="thumbnails" placeholder="ImÃ¡genes extra (URL)">
<button type="submit" style="background:#28a745;color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;">
    â• Crear producto
</button>
</form>

<hr>

<h2>ğŸ“¦ Productos existentes</h2>

<ul style="list-style:none;padding:0;max-width:900px;">
{{#each products}}
<li style="border:1px solid #ccc;border-radius:8px;padding:12px;margin-bottom:12px;">
    <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;">
    <div style="flex:1 1 60%;">
        <strong>{{this.title}}</strong> <br>
        <small><em>CÃ³digo:</em> {{this.code}}</small><br>
        <small><em>Stock:</em> {{this.stock}}</small><br>
        <small><em>Precio:</em> ${{this.price}}</small>
    </div>

    <div style="flex:1 1 40%;text-align:right;">
        <form action="/api/products/{{this._id}}?_method=DELETE" method="POST" style="display:inline;">
        <button type="submit" style="background:#dc3545;color:white;border:none;padding:6px 10px;border-radius:5px;cursor:pointer;">
            ğŸ—‘ï¸ Eliminar
        </button>
        </form>


        <form action="/api/products/{{this._id}}?_method=PUT" method="POST" style="display:inline-block;margin-left:8px;">
        <input type="text" name="title" placeholder="TÃ­tulo" style="width:110px;" required>
        <input type="text" name="description" placeholder="DescripciÃ³n" style="width:110px;" required>
        <input type="number" name="price" placeholder="Precio" style="width:90px;" required>
        <input type="number" name="stock" placeholder="Stock" style="width:70px;" required>
        <button type="submit" style="background:#ffc107;color:#000;border:none;padding:6px 10px;border-radius:5px;cursor:pointer;">
            âœï¸ Editar
        </button>
        </form>
    </div>
    </div>
</li>
{{/each}}
</ul>

